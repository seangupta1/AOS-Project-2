# Fix for the "Could not reliably determine..." warning
ServerName localhost

<VirtualHost *:80>
    ServerName my-nas-server

    # Handle static files (like CSS) directly with Apache
    Alias /static /var/www/nas_app/static
    <Directory /var/www/nas_app/static>
        Require all granted
    </Directory>

    # Forward all other requests to the Gunicorn app
    ProxyPreserveHost On
    ProxyPass / http://127.0.0.1:8000/
    ProxyPassReverse / http://127.0.0.1:8000/

    # Log errors
    ErrorLog /dev/stderr
    TransferLog /dev/stdout
    LogLevel warn

</VirtualHost>